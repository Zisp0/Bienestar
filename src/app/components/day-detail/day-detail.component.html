<div class="card">
  <h3>Registro del dÃ­a: {{ date }}</h3>
  <form (ngSubmit)="save()">
    <div *ngFor="let key of ['pain','libido','sleep','mood']">
      <label class="metric-label">{{ key | titlecase }}</label>
      <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px">
        <select [(ngModel)]="ensureEntry()[key].category" name="cat-{{key}}">
          <option *ngFor="let c of categories[key]" [value]="c">{{c}}</option>
        </select>
        <input type="range" min="0" max="10" [(ngModel)]="ensureEntry()[key].intensity" name="int-{{key}}" />
        <div class="muted small">{{ ensureEntry()[key].intensity }}</div>
      </div>
    </div>

    <label class="metric-label">Comentario</label>
    <textarea rows="3" [(ngModel)]="ensureEntry().comment" name="comment" style="width:100%"></textarea>

    <div style="display:flex;gap:8px;margin-top:12px">
      <button type="submit" class="btn">Guardar</button>
      <button type="button" (click)="remove()" style="background:#ef4444;color:white;padding:8px 12px;border-radius:8px;border:none">Eliminar</button>
    </div>
  </form>
</div>
